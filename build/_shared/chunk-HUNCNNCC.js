
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="88f63508-4419-5403-8afc-aa03d5a7f4b9")}catch(e){}}();
import{a as Ct}from"/catalogo/build/_shared/chunk-VFNCQZGX.js";import{$ as nt,W as tt,Y as ot,Z as u,a as Y,c as q,ia as et,j as dt,t as mt,v as Z,wa as it,y as gt,z as Q}from"/catalogo/build/_shared/chunk-C22R5JBJ.js";import{a as lt}from"/catalogo/build/_shared/chunk-3LAOUQIO.js";import{e as m}from"/catalogo/build/_shared/chunk-EMG2WQY5.js";var ft=[{id:"configuration",icon:"puzzle-piece",text:"config"},{id:"messages",icon:"comments-outline",text:"messages"},{id:"position",icon:"full-screen",text:"position"},{id:"icon",icon:"image",text:"icon"},{id:"color",icon:"light-paintBrush",text:"color"}];var ht=[{text:"1",icon:"talk"},{text:"2",icon:"chat-circle-text"},{text:"3",icon:"chat-circle-dots"},{text:"4",icon:"chats-circle"}],Ot=[{text:"1",icon:"instagram-outline"},{text:"2",icon:"chat-circle-text"},{text:"3",icon:"chat-circle-dots"},{text:"4",icon:"chats-circle"}];var xt=[{id:"left-x",text:"left",icon:"light-align-left"},{id:"center-x",text:"center",icon:"light-align-center-horizontal"},{id:"right-x",text:"right",icon:"light-align-right"}],yt=[{id:"center-y",text:"middle",icon:"align-vertical-center"},{id:"bottom-y",text:"bottom",icon:"align-vertical-bottom"}];var Tt=["custom","#25D366","#01C0A6","#128D7F","#065E55"],It=["custom","#E56969","#C1558B","#8A49A1","#FFBD67"];var Nt={token:"",hasAddon:!1,isDirty:!1,countries:[],notification:{text:"",type:""},oldButtonConfig:{},buttonConfig:{},contactButtonConfigurationOptions:ft,selectedOptionId:"none",generalConfigStep:"visibility"};it();var f={"Content-Type":"application/json",Accept:"application/json"},At=async(n,c)=>(await fetch(`${u()}/api/ms/addon/addon-user/body-group/floating_button`,{method:"PUT",body:JSON.stringify(c),headers:{...f,Authorization:`Bearer ${n}`}})).status===200,ct=async n=>{let c=await fetch(`${u()}/api/ms/addon/addon-user/last/${n}/floating_button`,{method:"GET",headers:f});return c.status===200?c.json().then(e=>({body:e.body,isActive:e.is_active})):void 0},wt=async()=>{let n=await fetch(`${u()}/api/ms/remote-config/country-data/countries`,{method:"GET",headers:{"api-key-sumer":ot("PUBLIC_API_KEY_SP")}});return n.status===200?(await n.json()).value.countries_information:[]},bt=async(n,c)=>{let e=await fetch(`${u()}/api/ms/addon/calculator/by-country/${n}`,{headers:{...f,Authorization:`Bearer ${c}`}});if(e.status===200)return(await e.json()).find(a=>a.addon_type_id==="floating_button")};var l=m(lt());mt();var at=m(Ct());dt();gt();var i={wrapper:"-W-nA","left-x":"A2EM-","center-x":"SXJDa","right-x":"_1-Eyc","center-y":"hF-k9","bottom-y":"R9BSJ",contactButton:"SOfdP",hide:"FttUo",instagram:"_4kWqZ"};it();var s=m(Q()),_t=({isInPreview:n,productName:c,buttonConfig:e})=>{var h,O,x,y,T,I,N,P,B,A,w,b,S,$,k,U,F,E,v,L;let{t:_}=Z(),{pathname:a}=Y(),[t,g]=(0,l.useState)(e),{storeMetadata:p}=q(),rt=!!t&&(n||!a.includes("/contact-addon")),st=()=>{var R,z,V,W,j,D,X,G,J,H,K,M;let o=a.includes("/producto"),r=_("footer.text_whats_app_store",{link:encodeURIComponent(`${nt()}${tt(a,"")}`)}),d=(o?(V=(z=(R=t==null?void 0:t.wp_contact)==null?void 0:R.messages)==null?void 0:z.product)==null?void 0:V.replaceAll("[product_name]",c||"").replaceAll("[product_link]",encodeURIComponent(`${location.origin}${a}`)):(D=(j=(W=t==null?void 0:t.wp_contact)==null?void 0:W.messages)==null?void 0:j.general)==null?void 0:D.replaceAll("[store_name]",(p==null?void 0:p.enterpriseName)||"").replaceAll("[store_link]",encodeURIComponent(`${location.origin}${a}`)))||r,C=decodeURIComponent(d),ut=encodeURI(C);et(`${(J=(G=(X=t==null?void 0:t.wp_contact)==null?void 0:X.configuration)==null?void 0:G.phone)==null?void 0:J.prefix}${(M=(K=(H=t==null?void 0:t.wp_contact)==null?void 0:H.configuration)==null?void 0:K.phone)==null?void 0:M.number}`,ut)},pt=()=>{var o,r;window.open(`https://ig.me/m/${(r=(o=t==null?void 0:t.wp_contact)==null?void 0:o.configuration)==null?void 0:r.instagram_username}`,"_blank")};return(0,l.useEffect)(()=>{n||ct(p.ownerId).then(o=>{var r,d;if(o!=null&&o.isActive)if(!((r=o==null?void 0:o.body)!=null&&r.wp_contact)&&p.catalogueWpContact){let C={wp_contact:(0,at.camelizeKeys)(p.catalogueWpContact)};g(C)}else(d=o==null?void 0:o.body)!=null&&d.wp_contact&&g(o==null?void 0:o.body)}).catch()},[]),(0,l.useEffect)(()=>{g(e)},[e]),rt?(0,s.jsxs)("div",{className:`
        ${i.wrapper}
        ${i[((O=(h=t==null?void 0:t.wp_contact)==null?void 0:h.position)==null?void 0:O.horizontal)||""]}
        ${i[((y=(x=t==null?void 0:t.wp_contact)==null?void 0:x.position)==null?void 0:y.vertical)||""]}
      `,children:[(0,s.jsx)("div",{className:`
          ${i.contactButton} 
          ${i.instagram}
          ${(((I=(T=t==null?void 0:t.wp_contact)==null?void 0:T.configuration)==null?void 0:I.is_instagram_hidden)||!((P=(N=t==null?void 0:t.wp_contact)==null?void 0:N.configuration)!=null&&P.instagram_username))&&i.hide}
        `,style:{backgroundColor:(A=(B=t==null?void 0:t.wp_contact)==null?void 0:B.colors)==null?void 0:A.instagram_background,color:(b=(w=t==null?void 0:t.wp_contact)==null?void 0:w.colors)==null?void 0:b.icon},onClick:pt,children:(0,s.jsx)("span",{className:`icon-${(S=t==null?void 0:t.wp_contact)==null?void 0:S.instagram_icon}`})}),(0,s.jsx)("div",{className:`
          ${i.contactButton} 
          ${i.whatsapp}
          ${((k=($=t==null?void 0:t.wp_contact)==null?void 0:$.configuration)==null?void 0:k.is_hidden)&&i.hide}
        `,style:{backgroundColor:(F=(U=t==null?void 0:t.wp_contact)==null?void 0:U.colors)==null?void 0:F.background,color:(v=(E=t==null?void 0:t.wp_contact)==null?void 0:E.colors)==null?void 0:v.icon},onClick:st,children:(0,s.jsx)("span",{className:`icon-${(L=t==null?void 0:t.wp_contact)==null?void 0:L.icon}`})})]}):null},zt=_t;export{ht as a,Ot as b,xt as c,yt as d,Tt as e,It as f,Nt as g,At as h,ct as i,wt as j,bt as k,zt as l};
//# sourceMappingURL=/catalogo/build/_shared/chunk-HUNCNNCC.js.map

//# debugId=88f63508-4419-5403-8afc-aa03d5a7f4b9
